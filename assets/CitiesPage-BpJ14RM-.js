import{r as o,u as k,a as v,b,j as t,L as w,c as j,B as p,T as A,d as D,e as L,l as M,f as F}from"./main-CXH0xQKz.js";import{M as C,I as V}from"./Input-yM82FEzL.js";import"./index-fjcXrdGE.js";const $="_cities_list_ry137_23",B="_popup_ry137_75",E="_negative_ry137_90",P="_geo_ry137_105",I={cities_list:$,popup:B,negative:E,geo:P},T=e=>e.citiesData.data,m=j.bind(I),R=()=>{const[e,n]=o.useState(!1),[a,i]=o.useState(!1),[l,c]=o.useState(""),h=k(),r=v(T),y=b(),f=()=>{y(D(l)),c(""),n(!1),i(!0)},x=s=>{c(s),n(!0)},g=()=>{c(""),n(!1)},_=(s,d,O)=>{h("/weather-app/weather",{state:{city:s,coords:O,index:d}})},N=r.map((s,d)=>t.jsxs("li",{children:[t.jsx("p",{onClick:()=>_(s.city,s.index,s.coords),children:s.city}),t.jsx("div",{className:m("geo"),children:s.index&&w}),!s.index&&t.jsx(p,{type:"svg",onClick:()=>x(s.city),children:A})]},d)),S=e&&t.jsx(C,{type:"modal",setIsOpen:n,children:t.jsxs("div",{className:m("popup"),children:[t.jsxs("p",{children:["Delete ",t.jsxs("strong",{children:['"',l,'"']}),"?"]}),t.jsx(p,{type:"default",onClick:f,children:"Delete"}),t.jsx(p,{type:"default",className:m("negative"),onClick:g,children:"Cancel"})]})});return{listItem:N,modal:S,notify:a&&t.jsx(C,{type:"notification",children:"City deleted",setIsOpen:i})}},U=j.bind(I),W=()=>{const{listItem:e,modal:n,notify:a}=R();return t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:U("cities_list"),children:e}),n,a]})},q="_form_1u5wr_23",z={form:q},G=()=>{const[e,n]=o.useState(""),[a,i]=o.useState(!1),[l,c]=o.useState(),[h,r]=o.useState("City added"),y=v(T),{lng:f}=L(),x=M[f],g=b();return{inputValue:e,handleChange:u=>{n(u)},handleSubmit:u=>{if(u.preventDefault(),e===""){c("warning"),r("Fill input field"),i(!0);return}if(y.some(d=>d.city===e.charAt(0).toUpperCase()+e.slice(1))){c("warning"),r("City exist"),i(!0);return}g(F({city:e,index:!1})),n(""),c("success"),r("City added"),i(!0)},Notification:a&&t.jsx(C,{type:"notification",notifyType:l,setIsOpen:i,children:h}),language:x}},H=j.bind(z),J=()=>{const{inputValue:e,handleChange:n,handleSubmit:a,Notification:i,language:l}=G();return t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:a,className:H("form"),children:[t.jsx(V,{label:l.add_city,value:e,onChange:n}),t.jsx(p,{type:"default",btnType:"submit",children:"+"})]}),i]})},Y=()=>t.jsxs("div",{children:[t.jsx(J,{}),t.jsx(W,{})]});export{Y as default};
