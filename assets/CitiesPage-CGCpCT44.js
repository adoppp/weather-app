import{r as o,u as k,a as v,b,j as t,L as w,c as j,B as p,T as A,d as L,e as M,l as D,f as F}from"./main-BW1LehTI.js";import{c as I,M as C,I as V}from"./Input-BuRhG6N1.js";import"./index-qQczF5iu.js";const $="_cities_list_ry137_23",B="_popup_ry137_75",E="_negative_ry137_90",P="_geo_ry137_105",T={cities_list:$,popup:B,negative:E,geo:P},m=j.bind(T),R=()=>{const[s,n]=o.useState(!1),[a,i]=o.useState(!1),[l,c]=o.useState(""),h=k(),r=v(I),y=b(),f=()=>{y(L(l)),c(""),n(!1),i(!0)},x=e=>{c(e),n(!0)},g=()=>{c(""),n(!1)},_=(e,d,O)=>{h("/weather-app/weather",{state:{city:e,coords:O,index:d}})},N=r.map((e,d)=>t.jsxs("li",{children:[t.jsx("p",{onClick:()=>_(e.city,e.index,e.coords),children:e.city}),t.jsx("div",{className:m("geo"),children:e.index&&w}),!e.index&&t.jsx(p,{type:"svg",onClick:()=>x(e.city),children:A})]},d)),S=s&&t.jsx(C,{type:"modal",setIsOpen:n,children:t.jsxs("div",{className:m("popup"),children:[t.jsxs("p",{children:["Delete ",t.jsxs("strong",{children:['"',l,'"']}),"?"]}),t.jsx(p,{type:"default",onClick:f,children:"Delete"}),t.jsx(p,{type:"default",className:m("negative"),onClick:g,children:"Cancel"})]})});return{listItem:N,modal:S,notify:a&&t.jsx(C,{type:"notification",children:"City deleted",setIsOpen:i})}},U=j.bind(T),W=()=>{const{listItem:s,modal:n,notify:a}=R();return t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:U("cities_list"),children:s}),n,a]})},q="_form_1u5wr_23",z={form:q},G=()=>{const[s,n]=o.useState(""),[a,i]=o.useState(!1),[l,c]=o.useState(),[h,r]=o.useState("City added"),y=v(I),{lng:f}=M(),x=D[f],g=b();return{inputValue:s,handleChange:u=>{n(u)},handleSubmit:u=>{if(u.preventDefault(),s===""){c("warning"),r("Fill input field"),i(!0);return}if(y.some(d=>d.city===s.charAt(0).toUpperCase()+s.slice(1))){c("warning"),r("City exist"),i(!0);return}g(F({city:s,index:!1})),n(""),c("success"),r("City added"),i(!0)},Notification:a&&t.jsx(C,{type:"notification",notifyType:l,setIsOpen:i,children:h}),language:x}},H=j.bind(z),J=()=>{const{inputValue:s,handleChange:n,handleSubmit:a,Notification:i,language:l}=G();return t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:a,className:H("form"),children:[t.jsx(V,{label:l.add_city,value:s,onChange:n}),t.jsx(p,{type:"default",btnType:"submit",children:"+"})]}),i]})},Y=()=>t.jsxs("div",{children:[t.jsx(J,{}),t.jsx(W,{})]});export{Y as default};
